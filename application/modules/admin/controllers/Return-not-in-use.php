<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class returnitem extends CI_Controller{	public function __construct(){	    parent::__construct();	    is_logged_in();	    $this->load->model('M_returnitem');	}	public function index(){		echo "";exit;		$data = array();		$data['companies'] = $this->M_purchase->GetCompanies();		$data['warehousename'] = $this->M_purchase->Getwarehouse();		$data['suppliername'] = $this->M_purchase->Getsupplier();		$data['itemname'] = $this->M_purchase->Getitem();		$this->load->helper(array('form'));	    $this->load->library('form_validation');		if($_SERVER['REQUEST_METHOD'] == 'POST')		{			//$this->form_validation->set_rules('company_code', 'company_code', 'required');			//$this->form_validation->set_rules('item_name', 'item_name', 'required');			//$this->form_validation->set_rules('warehouse_name', 'warehouse_name', 'required');			//$this->form_validation->set_rules('supplier_name', 'supplier_name', 'required');			$this->form_validation->set_rules('purchase_date', 'purchase_date', 'required');			//$this->form_validation->set_rules('description', 'Description', 'required');			if($this->form_validation->run() == true)	   		{				$this->M_purchase->addpage();				$this->session->set_flashdata('msg', 'Record added successfully!');				redirect('admin/purchase/listing', 'refresh');			}	 	}				$data['po_number'] = $this->purchase_order_number();	 	//pr($data);die;	   	$this->load->view('purchase/add_view',$data);	}			//edit pages	function edit($id)	{		$data_title=array();		$data = array();		$data['companies'] = $this->M_purchase->GetCompanies();			$data['warehousename'] = $this->M_purchase->Getwarehouse();		$data['suppliername'] = $this->M_purchase->Getsupplier();		$data['itemname'] = $this->M_purchase->Getitem();		$this->load->library('form_validation');		if(!empty($_POST)){			$this->form_validation->set_rules('purchase_date', 'purchase date', 'required');		}				if($this->form_validation->run() == true)		{			$msg = $this->M_purchase->index($id,$data_title);			if(!empty($msg)){			   $this->session->set_flashdata('msg', 'Record Updated successfully');			}			redirect('/admin/purchase/listing/'.$page.'/');		}else{			//$data['gallery'] = gethandoverCategories();			$data['datarows'] = $this->M_purchase->page_info($id);			/*echo "<pre>";print_r($data);die;*/			$this->load->view('purchase/edit_view',$data);		}	}}